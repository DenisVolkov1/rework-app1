<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>
	<title>Нов. доработка</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/resources/css/myCSS.css" th:href="@{/resources/css/myCSS.css}"/>
    <link rel="stylesheet" type="text/css" href="/resources/bootstrap4/css/bootstrap.min.css" th:href="@{/resources/bootstrap4/css/bootstrap.min.css}"/>
    <link rel="stylesheet" type="text/css" href="/resources/bootstrap-select-1.13.14/dist/css/bootstrap-select.min.css" th:href="@{/resources/bootstrap-select-1.13.14/dist/css/bootstrap-select.min.css}"/>
    <!-- for FF, Chrome, Opera -->
	<link rel="icon" type="image/png" th:href="@{/resources/icons_favicon/favicon-16x16.png}" sizes="16x16">
	<link rel="icon" type="image/png" th:href="@{/resources/icons_favicon/favicon-32x32.png}" sizes="32x32">
	<!-- for IE -->
	<link rel="icon" type="image/x-icon" th:href="@{/resources/icons_favicon/favicon-16x16.ico}" >
	<link rel="shortcut icon" type="image/x-icon" th:href="@{/resources/icons_favicon/favicon-32x32.ico}"/>
</head>
<body class="animate-load">
	<input hidden id ="server" th:value= "${server}">
	<input hidden id ="port" th:value= "${port}">
	<div class="container">
		<form id="formNew" th:method="POST" th:action="@{/newrework/new}" th:object="${modelNewRework}" class="container rounded-bottom myShadow bg-light">
			<div class="form-row">
				<div class="col-11">
					<div class="mt-4 container">
					  <div class="row mt-3 align-items-top">
					    <div class="col-2">
					      <div class="card-header p-2"> Задача </div>
					    </div>
					    <div id="taskInputDIV" class="col-3">
					     	<input id="taskInput" placeholder="номер задачи" th:field= "*{task}" type="text" class="form-control" isActualElement="false">
					    </div>
					  </div>
					  <div class="row mt-3 align-items-top">
					    <div class="col-2">
					      <div class="card-header p-2"> Задача монетки </div>
					    </div>
						<div id="taskMonetkaInputDIV" class="col-4">
					     	<input id="taskMonetkaInput" placeholder="номер задачи монетки" th:field= "*{taskMonetka}" type="text" class="form-control" value="" required>
					    </div>
					  </div>
					  <div class="row mt-3">
					    <div class="col mt-2">
					    <div id="accordion">
							<div class="card">
						      <div class="card-header mb-0 pb-0 pt-0 pl-0" id="headingOne">
						        <h5 class="mb-0">
						          <a class="btn btn-link" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
						             Название доработки/исправления
						          </a>
						        </h5>
						      </div>
						      <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordion">
						        <div class="card-body p-1">
		 						    <textarea id="descrReworkTextarea" th:field= "*{description}" class="form-control"  rows="3" required></textarea>
						        </div>
						      </div>
						    </div>
						  </div>
					    </div>
					  </div>
					  <div class="row mt-3 align-items-top">
					    <div class="col-2">
					      <div class="card-header"> Кто добавил </div>
					    </div>
					    <div id="addWhoInputDIV" class="col-3 d-none">
					     	<input id="addWhoInput" placeholder="Фамилия Имя" th:field= "*{addWho}" type="text" class="form-control" isActualElement="false">
					    </div>
					    <div id="addWhoSelectDIV" class="col-3">
					     	<select id="addWhoSelect" th:field= "*{addWho}" class="custom-select" data-style="btn-default">
       			 				<option th:each="w, si : ${allAddWho}" th:value="${w.addWho}" th:utext="${w.addWho}"/>
       			 			</select>
					    </div>
					    <div class="col">
					    	<button id="inputNewAddWhoButton_selectExists" type="button" class="btn btn-primary">Ввести нового пользователя</button>
					    </div>
					  </div>
					</div>
				</div>
			</div>
			<div class="container">
				<div class="row justify-content-between bg-light mt-5 p-3 rounded border">
					<div class="col-md-auto">
						<input id = "formBackSubmitButton" type="button" value="Назад" class="btn btn-primary" >
					</div>
					<div class="col-md-auto">
						<input id = "formNewSubmitButton" type="button" value="Добавить" class="btn btn-success">
					</div>
				</div>
			</div>	
		</form>
		<form hidden id="formBack" th:method="POST" th:action="@{/main}" th:object="${modelFilter}">
			<input id="searchBack" th:field= "*{search}" type="text">
		</form>
		<a hidden id="startLink" th:href="@{/main}"></a>
	</div>
</body>
<script type="text/javascript" th:src="@{/resources/bootstrap4/js/jquery-3.5.1.min.js}"></script>
<script type="text/javascript" th:src="@{/resources/bootstrap4/js/bootstrap.bundle.min.js}"></script>
<script type="text/javascript" th:src="@{/resources/bootstrap-select-1.13.14/dist/js/bootstrap-select.min.js}"></script>
<script type="text/javascript" th:src="@{/resources/bootstrap-select-1.13.14/dist/js/i18n/defaults-ru_RU.min.js}"></script>
<script type="text/javascript" th:src="@{/resources/js/util/main_util.js}"></script>
<script type="text/javascript" th:src="@{/resources/js/new_rework.js}"></script>
</html>
